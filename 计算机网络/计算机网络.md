# 计算机网络

### 概述

1. 若干节点和链路形成网络，若干网络通过路由器形成互联网，因特网是当今最大的互联网【internet互联网 Internet因特网】【万维网WWW是    建立在因特网上的一项服务】
2. 因特网由边缘部分(各主机)和核心部分(异构型网络与路由器)组成
3. 电路交换->报文交换->分组交换
4. 计算机网络最简单的定义是一些互联的自治的计算机集合 较好的定义是由一些通用的可编程的硬件互联而成的
5. 计网按范围分类-广域网(Wide Area Network)-城域网(Metropolitan...)-局域网(Local...)-个域网(Personal...)
6. 计网性能指标:速率 带宽 吞吐量 时延 时延带宽积 往返时间 利用率 丢包率

## 物理层(物理层)

解决问题：用何种信号来表示比特0和比特1的问题（采用何种传输媒体，采用何种信号）

常见协议：IEEE 802.11(定义了无线局域网标准)	IEEE802.3（定义了有线以太网标准）

传输媒体：导向型传输媒体(双绞线光纤等)，非导向型传输媒体(无线电波激光等)

传输方式：串并行传输，同步异步传输，单向半双工全双工通信

编码与调制：1.消息(文字图片音频)->数据(运送消息实体)->信号(数据电磁表现)->数字基带信号(数字信号)->数字信道/模拟信道

​					   2.基带调制(编码：归零/不归零 差分/曼彻斯特)	带通调制(调幅调频调相)

信道复用：频分波分时分码分复用

## 数据链路层(数据链路层)

解决问题：数据包在一个网络或一段链路上传输问题（如何标识网络中的主机，如何区分地址和数据，如何协调各主机争用总线）

常见协议：Ethernet(IEEE 802.3) PPP CSMA/CD-载波监听多址接入碰撞检测

MAC地址：在多个广播信道实现两个站点间通信，每个站点在数据链路层作为地址的唯一标识【MAC地址数量取决于网卡数量，作为网					络上各接口的唯一标识】

以太网(局域网的一种)：共享式以太网【网桥，集线器】	交换式以太网【二层交换机/交换式集线器】	碰撞域

局域网：虚拟局域网(Virtual Local Area Network)	无线局域网(Wireless Local Area Network)

## 网络层(网络层)

解决问题：数据包在多个网络之间传输和路由的问题（如何标识互联网中各网络及各主机，路由器如何进行分组转发路由选择）

常见协议：IP ICMP IGMP ARP RIP-路由信息协议 BGP 

网际协议：IPv4：32bit点分十进制	分类编址(根据网络号主机号分为A-E五类)/无分类编址(CIDR)

​							   本地回环地址	子网掩码	网关	IP,MAC映射关系(ARP RARP)	ICMP网际控制	IGMP多播

​				   IPv6：128bit冒号16进制

路由：RIP OSRF BGP...

虚拟专用网VPN和网络地址转换NAT：专用地址(10/8	172.16/12	192.168/16)

​																 NAT特点：通信必须由专用网内部发起	内网穿透技术

## 传输层(运输层）

解决问题：进程之间基于网络通信的问题（如何标识主机中与网络相关传输的进程，如何处理传输差错）

常见协议：TCP(Transmission Control Protocol) 	UDP(User Datagram Protocol)

端口号：取值范围0~65535	用于标识本计算机网络协议栈应用层的各应用进程

UDP/TCP对比：UDP无连接的 不可靠的 基于数据包的

​							TCP面向连接的 可靠的 基于字节流的 三次握手四次挥手

## 应用层(会话层+表示层+应用层)

解决问题：应用进程的交互来实现特定网络应用的问题

常见协议：HTTP-80 HTTPS(HTTP + TLS/SSL)-443 FTP-20/21 SMTP-25 DHCP-67/68 DNS-53 SSH-22 TELNET-23

协议实现

## 网络安全

安全威胁：中间人攻击 身份伪造 木马病毒蠕虫 逻辑炸弹后门 拒绝式服务攻击

安全服务：保密性 报文完整性 实体鉴别 不可否认性 访问控制 可用性

安全机制：密码学：1.古典密码：凯撒栅栏摩斯...

​								   2.对称加密算法：AES DES...

​								   3.非对称加密算法：SHA 256...

​								   4.散列函数哈希算法：MD5...

​					安全措施：物理层-信道加密	链路层-802.11i	网络层-IPSec	运输层SSLTLS	应用层PGP

​					防火墙，入侵检测系统IDS，蜜罐

## FAQs

1.主机从应用层发送数据包后对数据包处理过程？

1. 应用层构建HTTP请求报文向下交付给运输层。
2. 运输层给HTTP请求报文添加一个TCP首部，将其封装成TCP报文段。TCP首部主要作用是区分进程实现可靠传输。
3. 网络层为TCP添加一个IP首部，将其封装成IP数据报。IP首部的主要作用是寻址和路由。
4. 数据链路层为IP报文添加一个首部和尾部将其封装成帧。帧首部和尾部的作用是MAC寻址和帧校验。
5. 将帧看成比特流转换成电信号传送。在比特流前添加前导码，使接受方时钟同步。

2.二层交换机三层交换机区别？

​	相同点：两者都可以支持虚拟局域网的划分，这允许在同一物理网络基础设施上创建多个逻辑独立的广播域

​	不同点：工作层次不同，三层交换机能和路由器一样拥有跨子网通信的功能

3.以太网都是有线连接的吗？

​	如果没有特别说明，通常默认是指有线连接。不过，在特定语境下，它也可能包括了那些遵循相同或类似协议但采用无线方式传输数据	的技术。为了澄清任何可能的混淆，如果有人提到“无线以太网”，最好询问他们具体指的是哪种技术。

4.路由器与网桥的差异？

​	网桥：工作在数据链路层，靠MAC地址转发帧，连接多个局域网，不会隔离广播域

​	路由器：工作在网络层，靠IP地址转发数据包，连接不同网络，隔离广播域

5.为什么数据链路层已经有流量控制差错检验，向上传输层仍然需要TCP这种可靠传输？

1. 不同的作用范围：链路层的差错控制主要在物理网络或数据链路层内工作，确保帧在局域网（LAN）或广域网（WAN）中的可靠传输。而传输层的差错控制则在端到端的通信中工作，确保数据在不同网络和路由器之间传输的可靠性。
2. 端到端的可靠性：链路层的差错控制通常只限于单个网络段，而TCP提供的是端到端的可靠性。这意味着即使数据包在传输过程中跨越了多个网络段，TCP也能确保数据的完整性和顺序性。
3. 错误检测和纠正：TCP使用序列号和确认应答机制来检测错误和丢失的数据包，并请求重传。这种机制允许TCP在数据到达目的地后进行错误检测和纠正，而链路层的差错控制可能无法提供这种端到端的纠正。
4. 流量控制：TCP通过滑动窗口机制提供流量控制，防止网络拥塞。链路层的流量控制通常限于单个链路的带宽限制，而TCP可以在整个网络路径上进行流量控制。
5. 拥塞控制：TCP的拥塞控制机制能够在网络拥塞时减少发送速率，这有助于恢复网络性能。链路层的拥塞控制可能不如TCP的拥塞控制灵活或有效。
6. 服务质量（QoS）：TCP支持服务质量（QoS）功能，允许应用程序指定数据流的优先级，这在链路层可能不可用。
7. 连接管理：TCP提供三次握手建立连接和四次挥手断开连接，确保连接的建立和断开是可靠和有序的。链路层不提供这种连接管理。

## 名词解释

实体/对等实体：任何可发送或接受信息的硬件或软件的集合/指通信双方相同层次的实体

协议：是控制两个对等实体在“水平方向“进行”逻辑通信“的规则的集合

协议数据单元PDU：对等层次之间传送的数据包称为该层的协议数据单元【比特流-帧-分组/IP数据报-TCP/UDP报文-应用报文】

数据链路：传输数据时把实现协议的硬件和软件加到链路上构成了数据链路

漫游：用户在不同网络接入点之间移动，能够保持用户连接不中断的能力

流量控制：确保发送方不会持续的超过接收方发送能力的发送数据

拥塞控制：防止过多的数据注入到网络中是现有网络超负荷